<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>attack-workbench-frontend documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">attack-workbench-frontend documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content class">
                   <div class="content-data">












<ol class="breadcrumb">
  <li>Classes</li>
  <li >CollectionReference</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/classes/collection-index.ts</code>
        </p>



            <p class="comment">
                <h3>Extends</h3>
            </p>
            <p class="comment">
                        <code><a href="../classes/Serializable.html" target="_self" >Serializable</a></code>
            </p>



            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#created" >created</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#description" >description</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#id" >id</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#lastModified" >lastModified</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#name" >name</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#subscribed" >subscribed</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#versions" >versions</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#deserialize" >deserialize</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#serialize" >serialize</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#validate" >validate</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(raw?: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="82" class="link-to-prism">src/app/classes/collection-index.ts:82</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>raw</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            Yes
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="created"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>created</b></span>
                        <a href="#created"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="79" class="link-to-prism">src/app/classes/collection-index.ts:79</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="description"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>description</b></span>
                        <a href="#description"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="78" class="link-to-prism">src/app/classes/collection-index.ts:78</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="id"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>id</b></span>
                        <a href="#id"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="76" class="link-to-prism">src/app/classes/collection-index.ts:76</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="lastModified"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>lastModified</b></span>
                        <a href="#lastModified"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="82" class="link-to-prism">src/app/classes/collection-index.ts:82</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="77" class="link-to-prism">src/app/classes/collection-index.ts:77</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="subscribed"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>subscribed</b></span>
                        <a href="#subscribed"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="81" class="link-to-prism">src/app/classes/collection-index.ts:81</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="versions"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>versions</b></span>
                        <a href="#versions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>CollectionVersion[]</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="80" class="link-to-prism">src/app/classes/collection-index.ts:80</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deserialize"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>deserialize</b></span>
                        <a href="#deserialize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deserialize(raw: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Inherited from         <code><a href="../classes/Serializable.html" target="_self" >Serializable</a></code>
</div>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <div class="io-line">Defined in         <code><a href="../classes/Serializable.html#source" target="_self" >Serializable:91</a></code>
</div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Parse the object from the record returned from the back-end</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>raw</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the raw object</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="serialize"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>serialize</b></span>
                        <a href="#serialize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>serialize()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Inherited from         <code><a href="../classes/Serializable.html" target="_self" >Serializable</a></code>
</div>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <div class="io-line">Defined in         <code><a href="../classes/Serializable.html#source" target="_self" >Serializable:123</a></code>
</div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Transform the current object into a raw object for sending to the back-end, stripping any unnecessary fields</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        <p>the raw object</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="validate"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>validate</b></span>
                        <a href="#validate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>validate(restAPIService: <a href="../injectables/RestApiConnectorService.html" target="_self">RestApiConnectorService</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Inherited from         <code><a href="../classes/Serializable.html" target="_self" >Serializable</a></code>
</div>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <div class="io-line">Defined in         <code><a href="../classes/Serializable.html#source" target="_self" >Serializable:138</a></code>
</div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Validate the current object state and return information on the result of the validation</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>restAPIService</td>
                                    <td>
                                                <code><a href="../injectables/RestApiConnectorService.html" target="_self" >RestApiConnectorService</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>: the REST API connector through which asynchronous validation can be completed</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../classes/ValidationData.html" target="_self" >Observable&lt;ValidationData&gt;</a></code>

                    </div>
                    <div class="io-description">
                        <p>the validation warnings and errors once validation is complete.</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>





    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Observable, of } from &#x27;rxjs&#x27;;
import { RestApiConnectorService } from &#x27;../services/connectors/rest-api/rest-api-connector.service&#x27;;
import { Serializable, ValidationData } from &#x27;./serializable&#x27;;
import { VersionNumber } from &#x27;./version-number&#x27;;
import { logger } from &quot;../util/logger&quot;;

// https://github.com/center-for-threat-informed-defense/attack-workbench-frontend/blob/develop/docs/collections.md#collection-version-properties
export class CollectionVersion extends Serializable  {
    public version: VersionNumber;
    public modified: Date;
    public url: string;
    public taxii_url: string;
    public release_notes: string;
    constructor(raw?: any) {
        super();
        if (raw) this.deserialize(raw);
    }

     /**
     * Parse the object from the record returned from the back-end
     * @param {*} raw the raw object
     */
    public deserialize(raw: any) {
        let version &#x3D; raw;

        if (&quot;version&quot; in version) {
            if (typeof(version.version) &#x3D;&#x3D;&#x3D; &quot;string&quot;) this.version &#x3D; new VersionNumber(version.version);
            else logger.error(&quot;TypeError: version field is not a string:&quot;, version.version, &quot;(&quot;, typeof(version.version), &quot;)&quot;);
        } else this.version &#x3D; new VersionNumber(&quot;0.1&quot;);

        if (&quot;modified&quot; in version) {
            if (typeof(version.modified) &#x3D;&#x3D;&#x3D; &quot;string&quot;) this.modified &#x3D; new Date(version.modified);
            else logger.error(&quot;TypeError: modified field is not a string:&quot;, version.modified, &quot;(&quot;, typeof(version.modified), &quot;)&quot;);
        } else this.modified &#x3D; new Date();

        if (&quot;url&quot; in version) {
            if (typeof(version.url) &#x3D;&#x3D;&#x3D; &quot;string&quot;) this.url &#x3D; version.url;
            else logger.error(&quot;TypeError: url field is not a string:&quot;, version.url, &quot;(&quot;, typeof(version.url), &quot;)&quot;);
        }
        else if (&quot;taxii_url&quot; in version) {
            if (typeof(version.taxii_url) &#x3D;&#x3D;&#x3D; &quot;string&quot;) this.taxii_url &#x3D; version.taxii_url;
            else logger.error(&quot;TypeError: taxii_url field is not a string:&quot;, version.taxii_url, &quot;(&quot;, typeof(version.taxii_url), &quot;)&quot;); 
        }
        else throw new Error(&quot;error deserializing CollectionVersion: either &#x27;url&#x27; or &#x27;taxii_url&#x27; must be specified\n&quot; + JSON.stringify(version))

        if (&quot;release_notes&quot; in version) {
            if (typeof(version.release_notes) &#x3D;&#x3D;&#x3D; &quot;string&quot;) this.release_notes &#x3D; version.release_notes;
            else logger.error(&quot;TypeError: release_notes field is not a string:&quot;, version.release_notes, &quot;(&quot;, typeof(version.release_notes), &quot;)&quot;);
        }
    }
    /**
     * Transform the current object into a raw object for sending to the back-end, stripping any unnecessary fields
     * @returns {*} the raw object
     */
    public serialize(): any {
        return {
            &quot;version&quot;: this.version.toString(),
            &quot;modified&quot;: this.modified,
            &quot;url&quot;: this.url,
            &quot;taxii_url&quot;: this.taxii_url,
            &quot;release_notes&quot;: this.release_notes,
        }
    }

    /**
     * Validate the current object state and return information on the result of the validation
     * @param {RestApiConnectorService} restAPIService: the REST API connector through which asynchronous validation can be completed
     * @returns {Observable&lt;ValidationData&gt;} the validation warnings and errors once validation is complete.
     */
    public validate(restAPIService: RestApiConnectorService): Observable&lt;ValidationData&gt; {
        return of(new ValidationData()) //TODO
    }
}
// https://github.com/center-for-threat-informed-defense/attack-workbench-frontend/blob/develop/docs/collections.md#collection-reference-properties
export class CollectionReference extends Serializable  {
    public id: string;
    public name: string;
    public description: string;
    public created: Date;
    public versions: CollectionVersion[];
    public subscribed: boolean; //TODO how does this get determined
    public lastModified: Date; //must be updated whenever the versions field is updated (get function won&#x27;t work here)
    constructor(raw?: any) {
        super();
        if (raw) this.deserialize(raw);
    }
    /**
     * Parse the object from the record returned from the back-end
     * @param {*} raw the raw object
     */
    public deserialize(raw: any) {
        let ref &#x3D; raw;

        if (&quot;id&quot; in ref) {
            if (typeof(ref.id) &#x3D;&#x3D;&#x3D; &quot;string&quot;) this.id &#x3D; ref.id;
            else logger.error(&quot;TypeError: id field is not a string:&quot;, ref.id, &quot;(&quot;, typeof(ref.id), &quot;)&quot;);
        }
        if (&quot;name&quot; in ref) {
            if (typeof(ref.name) &#x3D;&#x3D;&#x3D; &quot;string&quot;) this.name &#x3D; ref.name;
            else logger.error(&quot;TypeError: name field is not a string:&quot;, ref.name, &quot;(&quot;, typeof(ref.name), &quot;)&quot;);
        }
        if (&quot;description&quot; in ref) {
            if (typeof(ref.description) &#x3D;&#x3D;&#x3D; &quot;string&quot;) this.description &#x3D; ref.description;
            else logger.error(&quot;TypeError: description field is not a string:&quot;, ref.description, &quot;(&quot;, typeof(ref.description), &quot;)&quot;);
        }
        if (&quot;created&quot; in ref) {
            if (typeof(ref.created) &#x3D;&#x3D;&#x3D; &quot;string&quot;) this.created &#x3D; new Date(ref.created);
            else logger.error(&quot;TypeError: created field is not a string:&quot;, ref.created, &quot;(&quot;, typeof(ref.created), &quot;)&quot;);
        } else this.created &#x3D; new Date();

        if (&quot;versions&quot; in ref) {
            if (typeof(ref.versions) &#x3D;&#x3D;&#x3D; &quot;object&quot;) {
                this.versions &#x3D; ref.versions.map(version &#x3D;&gt; new CollectionVersion(version));
                this.versions.sort((a:CollectionVersion,b:CollectionVersion) &#x3D;&gt; b.version.compareTo(a.version)); //sort by modified date
                this.lastModified &#x3D; this.versions[0].modified;
            } else logger.error(&quot;TypeError: versions field is not an object:&quot;, ref.versions, &quot;(&quot;, typeof(ref.versions), &quot;)&quot;);
        }
    }
    /**
     * Transform the current object into a raw object for sending to the back-end, stripping any unnecessary fields
     * @returns {*} the raw object
     */
    public serialize(): any {
        return {
            &quot;id&quot;: this.id,
            &quot;name&quot;: this.name,
            &quot;description&quot;: this.description,
            &quot;created&quot;: this.created,
            &quot;versions&quot;: this.versions.map(version &#x3D;&gt; version.serialize())
        }
    }

    /**
     * Validate the current object state and return information on the result of the validation
     * @param {RestApiConnectorService} restAPIService: the REST API connector through which asynchronous validation can be completed
     * @returns {Observable&lt;ValidationData&gt;} the validation warnings and errors once validation is complete.
     */
    public validate(restAPIService: RestApiConnectorService): Observable&lt;ValidationData&gt; {
        return of(new ValidationData()) //TODO
    }
}
// https://github.com/center-for-threat-informed-defense/attack-workbench-frontend/blob/develop/docs/collections.md#collection-index-properties
export class CollectionIndex extends Serializable {
    public collection_index: {
        id: string,
        name: string,
        description: string,
        created: Date,
        modified: Date,
        collections: CollectionReference[]
    };
    public workspace: {
        remote_url: string, //url of the index
        update_policy?: {
            automatic: boolean, //if true, automatically fetch updates
            interval?: number, //seconds between refreshes
            last_retrieval?: Date,
            subscriptions?: string[] // stix IDs of collection-references
        }
    };
    constructor(raw?: any) {
        super();
        if (raw) this.deserialize(raw);
    }
    /**
     * Parse the object from the record returned from the back-end
     * @param {*} raw the raw object
     */
    public deserialize(raw: any) {
        if (raw.collection_index) {
            let collection_index: any &#x3D; {};

            if (&quot;id&quot; in raw.collection_index) {
                if (typeof(raw.collection_index.id) &#x3D;&#x3D;&#x3D; &quot;string&quot;) collection_index.id &#x3D; raw.collection_index.id;
                else logger.error(&quot;TypeError: id field is not a string:&quot;, raw.collection_index.id, &quot;(&quot;, typeof(raw.collection_index.id), &quot;)&quot;);
            }
            if (&quot;name&quot; in raw.collection_index) {
                if (typeof(raw.collection_index.name) &#x3D;&#x3D;&#x3D; &quot;string&quot;) collection_index.name &#x3D; raw.collection_index.name;
                else logger.error(&quot;TypeError: name field is not a string:&quot;, raw.collection_index.name, &quot;(&quot;, typeof(raw.collection_index.name), &quot;)&quot;);
            }
            if (&quot;description&quot; in raw.collection_index) {
                if (typeof(raw.collection_index.description) &#x3D;&#x3D;&#x3D; &quot;string&quot;) collection_index.description &#x3D; raw.collection_index.description;
                else logger.error(&quot;TypeError: description field is not a string:&quot;, raw.collection_index.description, &quot;(&quot;, typeof(raw.collection_index.description), &quot;)&quot;);
            }
            if (&quot;created&quot; in raw.collection_index) {
                if (typeof(raw.collection_index.created) &#x3D;&#x3D;&#x3D; &quot;string&quot;) collection_index.created &#x3D; new Date(raw.collection_index.created);
                else logger.error(&quot;TypeError: created field is not a string:&quot;, raw.collection_index.created, &quot;(&quot;, typeof(raw.collection_index.created), &quot;)&quot;);
            } else collection_index.created &#x3D; new Date();

            if (&quot;modified&quot; in raw.collection_index) {
                if (typeof(raw.collection_index.modified) &#x3D;&#x3D;&#x3D; &quot;string&quot;) collection_index.modified &#x3D; new Date(raw.collection_index.modified);
                else logger.error(&quot;TypeError: modified field is not a string:&quot;, raw.collection_index.modified, &quot;(&quot;, typeof(raw.collection_index.modified), &quot;)&quot;);
            } else collection_index.modified &#x3D; new Date();

            if (&quot;collections&quot; in raw.collection_index) {
                if (typeof(raw.collection_index.collections) &#x3D;&#x3D;&#x3D; &quot;object&quot;) {
                    collection_index.collections &#x3D; raw.collection_index.collections.map(rawRef &#x3D;&gt; {
                        let ref &#x3D; new CollectionReference();
                        ref.deserialize(rawRef);
                        if (raw.workspace &amp;&amp; &quot;update_policy&quot; in raw.workspace) ref.subscribed &#x3D; raw.workspace.update_policy.subscriptions.includes(ref.id);
                        return ref;
                    });
                } else logger.error(&quot;TypeError: collections field is not an object:&quot;, raw.collection_index.collections, &quot;(&quot;, typeof(raw.collection_index.collections), &quot;)&quot;);
            }

            this.collection_index &#x3D; collection_index;
        }

        if (raw.workspace) {
            let workspace: any &#x3D; {};

            if (&quot;remote_url&quot; in raw.workspace) {
                if (typeof(raw.workspace.remote_url) &#x3D;&#x3D;&#x3D; &quot;string&quot;) workspace.remote_url &#x3D; raw.workspace.remote_url;
                else logger.error(&quot;TypeError: remote_url field is not a string:&quot;, raw.workspace.remote_url, &quot;(&quot;, typeof(raw.workspace.remote_url), &quot;)&quot;);
            }
            if (&quot;update_policy&quot; in raw.workspace) {
                let update_policy &#x3D; raw.workspace.update_policy;
                let tmp_policy: any &#x3D; {};

                if (&quot;automatic&quot; in update_policy) {
                    if (typeof(update_policy.automatic) &#x3D;&#x3D;&#x3D; &quot;boolean&quot;) tmp_policy.automatic &#x3D; update_policy.automatic;
                    else logger.error(&quot;TypeError: automatic field is not a boolean:&quot;, update_policy.automatic, &quot;(&quot;, typeof(update_policy.automatic), &quot;)&quot;);
                }
                if (&quot;interval&quot; in update_policy) {
                    if (typeof(update_policy.interval) &#x3D;&#x3D;&#x3D; &quot;number&quot;) tmp_policy.interval &#x3D; update_policy.interval;
                    else logger.error(&quot;TypeError: interval field is not a number:&quot;, update_policy.interval, &quot;(&quot;, typeof(update_policy.interval), &quot;)&quot;);
                }
                if (&quot;last_retrieval&quot; in update_policy) {
                    if (typeof(update_policy.last_retrieval) &#x3D;&#x3D;&#x3D; &quot;string&quot;) tmp_policy.last_retrieval &#x3D; new Date(update_policy.last_retrieval);
                    else logger.error(&quot;TypeError: last_retrieval field is not a string:&quot;, update_policy.last_retrieval, &quot;(&quot;, typeof(update_policy.last_retrieval), &quot;)&quot;);
                }
                if (&quot;subscriptions&quot; in update_policy) {
                    if (typeof(update_policy.subscriptions) &#x3D;&#x3D;&#x3D; &quot;object&quot;) tmp_policy.subscriptions &#x3D; update_policy.subscriptions;
                    else logger.error(&quot;TypeError: subscriptions field is not an object:&quot;, update_policy.subscriptions, &quot;(&quot;, typeof(update_policy.subscriptions), &quot;)&quot;);
                }
                workspace.update_policy &#x3D; tmp_policy;
            }

            this.workspace &#x3D; workspace;
        }
    }
    /**
     * Transform the current object into a raw object for sending to the back-end, stripping any unnecessary fields
     * @returns {*} the raw object
     */
    public serialize(): any {
        let representation &#x3D; {
            &quot;collection_index&quot;: this.collection_index,
            &quot;workspace&quot;: this.workspace
        }
        representation.collection_index.collections &#x3D; representation.collection_index.collections.map(ref &#x3D;&gt;  ref.serialize())
        return representation;
    }

    /**
     * Validate the current object state and return information on the result of the validation
     * @param {RestApiConnectorService} restAPIService: the REST API connector through which asynchronous validation can be completed
     * @returns {Observable&lt;ValidationData&gt;} the validation warnings and errors once validation is complete.
     */
    public validate(restAPIService: RestApiConnectorService): Observable&lt;ValidationData&gt; {
        return of(new ValidationData()) //TODO
    }

    /**
     * Check the current object is a valid collection index
     */
    public valid(): boolean {
        return ( this.collection_index.id &amp;&amp; this.collection_index.name &amp;&amp; this.collection_index.name.length &gt; 0 &amp;&amp;
                 this.collection_index.created &amp;&amp; this.collection_index.modified &amp;&amp; this.collection_index.collections !&#x3D;&#x3D; undefined );
    }
}</code></pre>
    </div>
</div>









                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'class';
            var COMPODOC_CURRENT_PAGE_URL = 'CollectionReference.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
